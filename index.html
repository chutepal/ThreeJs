<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ThreeJS study</title>
    <style>
      body {
        margin: 0;
      }
      .dropdown-container {
            display: flex;
            z-index: 1000;
        }
        select {
            padding: 10px;
            font-size: 16px;
            z-index: 1000;
        }
    </style>
  </head>
  <body>
    <div class="dropdown-container">
        <select id="scriptDropdown">
            <!-- Dropdown options will be generated by JavaScript -->
        </select>
    </div>
      <div id="scene"></div>
    <script
      id="dynamicScript"
      type="module"
    ></script>
    <script>
      const srcFile = "";
      const list = [
        {
            name: "Cube",
            fileName: 'src/components/cube.js'
        },
        {
            name: "Lines",
            fileName: 'src/components/lines.js'
        },
        {
            name: 'Plane & Grid',
            fileName: 'src/components/plane&grid.js'
        },
        {
            name: 'Camera Mobility',
            fileName: 'src/components/cameraMobility.js'
        },
        {
            name: 'Sphere',
            fileName: 'src/components/sphere.js'
        },
        {
            name: 'GUI',
            fileName: 'src/components/gui.js'
        },
        {
            name: 'Ambient light',
            fileName: 'src/components/ambientLight.js'
        },
        {
            name: 'Directional light',
            fileName: 'src/components/directionalLight.js'
        },
        {
            name: 'Spot light',
            fileName: 'src/components/spotLight.js'
        },
        {
            name: 'Fog view',
            fileName: 'src/components/fog.js'
        },
        {
            name: 'Change background',
            fileName: 'src/components/background.js'
        },
        {
            name: '3D Blender Model',
            fileName: 'src/components/3Dmodel.js'
        },
      ];

      const scriptDropdown = document.getElementById("scriptDropdown");

      const savedScriptSource = localStorage.getItem("selectedScriptSource");
      if (savedScriptSource) {
        document.getElementById("dynamicScript").src = savedScriptSource;
      } else {
        document.getElementById("dynamicScript").src = list[0].fileName; // Default script
      }

      list.forEach((elem) => {
        const option = document.createElement("option");
        option.value = elem.fileName;
        option.textContent = elem.name
        if (elem.fileName === savedScriptSource) {
            option.selected = true;
        }
        scriptDropdown.appendChild(option);
      });

      scriptDropdown.onchange = function() {
        const selectedScript = scriptDropdown.value;
        // Save the selected script source in localStorage
        localStorage.setItem('selectedScriptSource', selectedScript);
        location.reload(); // Reload the page after setting the script source
    };
    </script>
  </body>
</html>
